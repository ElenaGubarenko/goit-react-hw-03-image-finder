(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(18),r=a.n(s),o=a(9),i=a(4),l=a(5),u=a(7),h=a(6),d=a(19),g=a.n(d),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g.a.get("https:pixabay.com/api/?key=20622592-50ccb321bb66e8f51c2ed20b3&q=".concat(e,"&image_type=photo&page=").concat(t,"&per_page=12")).then((function(e){return e.data.hits}))},p=a(0),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:""},e.handleInputChange=function(t){e.setState({searchValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.changeRequestInMainState(e.state.searchValue),e.setState({searchValue:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("header",{className:"Searchbar",children:Object(p.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(p.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(p.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchValue,onChange:this.handleInputChange})]})})}}]),a}(n.Component),j=function(e){var t=e.id,a=e.src,n=e.alt,c=e.changeModalIsOpen,s=e.bigImageSrc;return Object(p.jsx)("li",{className:"ImageGalleryItem",onClick:c,children:Object(p.jsx)("img",{className:"ImageGalleryItem-image",id:t,src:a,alt:n,onClick:s})})},O=function(e){var t=e.stateApiImages,a=e.changeModalIsOpen,n=e.bigImageSrc;return Object(p.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(p.jsx)(j,{changeModalIsOpen:a,bigImageSrc:n,src:e.webformatURL,alt:e.tags,id:e.largeImageURL},e.id)}))})},f=a(20),I=a.n(f),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"Loader",children:Object(p.jsx)(I.a,{type:"Grid",color:"#303f9f",height:30,width:30,timeout:3e3})})}}]),a}(n.Component),v=function(e){var t=e.searchImages;return Object(p.jsx)("button",{onClick:t,type:"button",className:"Button",children:"Load more"})},S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).closeModalByEsc=function(t){"Escape"===t.code&&(e.props.closeModal(!1),window.removeEventListener("keydown",e.closeModalByEsc))},e.closeModalByBackdrope=function(t){t.currentTarget===t.target&&e.props.closeModal(!1)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModalByEsc)}},{key:"render",value:function(){return Object(p.jsx)("div",{onKeyDown:this.closeModalByEsc,onClick:this.closeModalByBackdrope,className:"Overlay",children:Object(p.jsx)("div",{className:"Modal",children:Object(p.jsx)("img",{src:this.props.mainStateBigUrl,alt:""})})})}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={apiImages:[],request:"",error:null,page:1,isLoading:!1,modalIsOpen:!1,bigUrl:""},e.changeRequestInMainState=function(t){e.setState({request:t}),""!==e.state.apiImages&&e.setState({apiImages:[],page:1})},e.scrollTo=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.changeModalIsOpen=function(t){e.setState({modalIsOpen:!e.state.modalIsOpen})},e.closeModal=function(t){e.setState({modalIsOpen:t})},e.bigImageSrc=function(t){e.setState({bigUrl:t.target.id})},e.searchImages=function(){e.setState({isLoading:!0}),m(e.state.request,e.state.page).then((function(t){e.setState((function(e){return{apiImages:[].concat(Object(o.a)(e.apiImages),Object(o.a)(t)),page:e.page+1}})),e.scrollTo()})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.request!==this.state.request&&this.searchImages()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{changeRequestInMainState:this.changeRequestInMainState}),Object(p.jsx)(O,{stateApiImages:this.state.apiImages,changeModalIsOpen:this.changeModalIsOpen,bigImageSrc:this.bigImageSrc}),this.state.isLoading?Object(p.jsx)(y,{}):null,this.state.apiImages.length>0?Object(p.jsx)(v,{searchImages:this.searchImages,type:"button"}):null,this.state.modalIsOpen&&Object(p.jsx)(S,{closeModal:this.closeModal,mainStateBigUrl:this.state.bigUrl})]})}}]),a}(n.Component),M=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(x,{})})};a(64),a(65);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(M,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.ab58d826.chunk.js.map