{"version":3,"sources":["Api/Api.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Loader/Loader.js","Button/Button.js","Modal/Modal.js","ImageFinder/ImageFinder.js","App.js","index.js"],"names":["api","request","page","axios","get","then","answer","data","hits","Searchbar","state","searchValue","handleInputChange","e","setState","target","value","handleSubmit","preventDefault","props","changeRequestInMainState","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","src","alt","changeModalIsOpen","bigImageSrc","onClick","ImageGallery","stateApiImages","map","image","webformatURL","tags","largeImageURL","NewLoader","color","height","width","timeout","Button","searchImages","Modal","closeModalByEsc","code","closeModal","window","removeEventListener","closeModalByBackdrope","currentTarget","addEventListener","onKeyDown","mainStateBigUrl","ImageFinder","apiImages","error","isLoading","modalIsOpen","bigUrl","scrollTo","top","document","documentElement","scrollHeight","behavior","prevState","catch","finally","prevProps","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5d36d8f5.chunk.js","sourcesContent":["// import { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst api = (request, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=20622592-50ccb321bb66e8f51c2ed20b3&q=${request}&image_type=photo&page=${page}&per_page=12`,\r\n    )\r\n    .then(answer => answer.data.hits);\r\n};\r\n\r\nexport default api;\r\n","import { Component } from 'react';\r\n// import api from '../Api';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchValue: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      searchValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.changeRequestInMainState(this.state.searchValue);\r\n    this.setState({\r\n      searchValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.state);\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchValue}\r\n            onChange={this.handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const ImageGalleryItem = ({ id, src, alt, changeModalIsOpen, bigImageSrc }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={changeModalIsOpen}>\r\n      <img\r\n        className=\"ImageGalleryItem-image\"\r\n        id={id}\r\n        src={src}\r\n        alt={alt}\r\n        onClick={bigImageSrc}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","// import { Component, Children } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ stateApiImages, changeModalIsOpen, bigImageSrc }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {stateApiImages.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            changeModalIsOpen={changeModalIsOpen}\r\n            bigImageSrc={bigImageSrc}\r\n            key={image.id}\r\n            src={image.webformatURL}\r\n            alt={image.tags}\r\n            id={image.largeImageURL}\r\n            // id={image.id}\r\n            // dataset={image.largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class NewLoader extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className=\"Loader\">\r\n        <Loader\r\n          type=\"Grid\"\r\n          color=\"#303f9f\"\r\n          height={30}\r\n          width={30}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const Button = ({ searchImages }) => {\r\n  return (\r\n    <button onClick={searchImages} type=\"button\" className=\"Button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\n\r\n// const modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalByEsc);\r\n  }\r\n  // openModal = (e, id) => {\r\n  //   console.log(e);\r\n  //   this.setState({\r\n  //     modalIsOpen: true,\r\n  //   });\r\n  // };\r\n\r\n  closeModalByEsc = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal(false);\r\n      window.removeEventListener('keydown', this.closeModalByEsc);\r\n    }\r\n  };\r\n\r\n  closeModalByBackdrope = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal(false);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onKeyDown={this.closeModalByEsc}\r\n        onClick={this.closeModalByBackdrope}\r\n        className=\"Overlay\"\r\n      >\r\n        <div className=\"Modal\">\r\n          <img src={this.props.mainStateBigUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport api from '../Api';\r\nimport Searchbar from '../Searchbar';\r\nimport ImageGallery from '../ImageGallery';\r\nimport NewLoader from '../Loader';\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\n\r\nclass ImageFinder extends Component {\r\n  state = {\r\n    apiImages: [],\r\n    request: '',\r\n    error: null,\r\n    page: 1,\r\n    isLoading: false,\r\n    modalIsOpen: false,\r\n    bigUrl: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.request !== this.state.request) {\r\n      this.searchImages();\r\n    }\r\n  }\r\n\r\n  changeRequestInMainState = value => {\r\n    this.setState({\r\n      request: value,\r\n    });\r\n\r\n    if (this.state.apiImages !== '') {\r\n      this.setState({\r\n        apiImages: [],\r\n        page: 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  scrollTo = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  changeModalIsOpen = e => {\r\n    this.setState({\r\n      modalIsOpen: !this.state.modalIsOpen,\r\n    });\r\n  };\r\n\r\n  closeModal = data => {\r\n    this.setState({\r\n      modalIsOpen: data,\r\n    });\r\n  };\r\n\r\n  bigImageSrc = e => {\r\n    this.setState({\r\n      bigUrl: e.target.id,\r\n    });\r\n  };\r\n\r\n  searchImages = () => {\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    api(this.state.request, this.state.page)\r\n      .then(answer => {\r\n        // console.log(answer);\r\n        this.setState(prevState => ({\r\n          apiImages: [...prevState.apiImages, ...answer],\r\n          page: prevState.page + 1,\r\n        }));\r\n        if (this.state.page > 2) {\r\n          this.scrollTo();\r\n        }\r\n      })\r\n      .catch(error =>\r\n        this.setState({\r\n          error: error,\r\n        }),\r\n      )\r\n      .finally(() =>\r\n        this.setState({\r\n          isLoading: false,\r\n        }),\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar changeRequestInMainState={this.changeRequestInMainState} />\r\n        <ImageGallery\r\n          stateApiImages={this.state.apiImages}\r\n          changeModalIsOpen={this.changeModalIsOpen}\r\n          bigImageSrc={this.bigImageSrc}\r\n        />\r\n\r\n        {this.state.isLoading ? <NewLoader /> : null}\r\n\r\n        {this.state.apiImages.length > 0 ? (\r\n          <Button searchImages={this.searchImages} type=\"button\" />\r\n        ) : null}\r\n\r\n        {this.state.modalIsOpen && (\r\n          <Modal\r\n            closeModal={this.closeModal}\r\n            mainStateBigUrl={this.state.bigUrl}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageFinder;\r\n","// import { Component } from 'react';\n// import api from './Api';\n// import Searchbar from './Searchbar';\n// import ImageGallery from './ImageGallery';\n// import ImageGalleryItem from './ImageGalleryItem';\n// import Loader from \"./Loader\"\n// import Button from \"./Button\"\n// import Modal from \"./Modal\"\n\nimport ImageFinder from './ImageFinder';\n\nconst App = () => {\n  return (\n    <>\n      <ImageFinder />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport 'modern-normalize/modern-normalize.css';\nimport styles from './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}